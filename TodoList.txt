Today TodoList
1. 보스 몬스터가 생존해 있을 경우 다른 일반 몬스터 방어력 증가, 보스 난이도에 따라 강화 오라 증가
1. 사운드 추가(기본 BGM(시작 화면, 캐릭터 선택창, 메인게임), 캐릭터 기본공격 소리(총, 칼, 활, 마법), 승패 시 각각 BGM)
2. 몬스터 스폰 이펙트 추가
3 아이템 밸런스



TIL
NavMesh의 로딩 및 생성 방식으로 serverTravel을 이용해 멀티를 구현할 때 문제가 생겼다.
호스트 쪽은 제대로 작동 했는데, 클라이언트 쪽은 제대로 작동하지 않는 문제였다.
결론부터 말하자면 이 문제는 클라이언트 쪽 NavMesh가 생성된 뒤 단 한번도 Build Path를 하지 않았기 때문이다.
이 문제를 해결하기 위해 원인부터 찾으려고 했다. 우선 Map_MainMenu에서 방을 만들어 Main에 접속하는 방법말고 Map_Main에서
바로 테스트를 해보았다. 이때는 클라이언트 쪽 몬스터도 제대로 움직였다. 그래서 몬스터에 연결되는 AIController가 제대로 Possess되지 않거나
BT에 몬스터 이동 경로가 제대로 입력되지 않는 문제는 아니라고 판단했다. 실제로 디버깅 했을 때도 이런 문제는 아닌 것을 확인했다.
그래서 Gemini에 물어보고 이런저런 확인 과정을 거쳐본 결과 절대 아닐거라 생각했던 NavMesh 문제였다.
UE 편의 상 해당 Level(지금 내 프로젝트에선 Map_Main)에서는 맵을 수정하거나 액터를 배치하면 임시로 네비게이션을 계산해 메모리에 갖고 있는다고 한다.(Preview 상태)
이 때문에 NavMesh의 Runtime Generation 정책이 Static이라 하더라도 UE가 이 메모리의 임시 데이터를 이용해 AI가 움직일 수 있는 것이다.
하지만 MainMenu부터 Map까지 ServerTravel로 이동하는 과정에서는 월드를 전부 비우고, 디스크에 저장된 맵 파일(Map_Main)을 새로 읽어오는 과정이다.
이 때 메모리의 임시 데이터는 날아가고 파일에 저장된 정식 네비게이션 데이터를 찾는데, 단 한번도 Build Path를 한적이 없었기 때문에 네비게이션 데이터 자체가 없었던 상태였다.
그래서 움직이지 않았던 것이다.

해결책으로 두 가지가 있었다.
1. NavMesh Runtime Generation 정책을 Dynamic으로 변경하는 방법
2. 정책은 Static으로 유지하고 Build Path 하는 법.
두 가지 방법 다 유효했고 큰 프로젝트는 아니지만 조금이라도 리소스 낭비를 줄이기 위해 Build Path하는 법을 선택했다. 